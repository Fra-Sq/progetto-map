\chapter{SPACE ESCAPE}
\hypertarget{md__r_e_a_d_m_e}{}\label{md__r_e_a_d_m_e}\index{SPACE ESCAPE@{SPACE ESCAPE}}
\label{md__r_e_a_d_m_e_autotoc_md0}%
\Hypertarget{md__r_e_a_d_m_e_autotoc_md0}%
Progetto per l\textquotesingle{}esame \textquotesingle{}Metodi avanzati di programmazione\textquotesingle{} per l\textquotesingle{}anno accademico 2023/24. ~\newline
 Nome gruppo\+: I San\+Giovannesi. ~\newline
 Autori\+: Scarale Francescopio, Russo Nicola, Squarcella-\/\+Gorgoglione Francesco.\hypertarget{md__r_e_a_d_m_e_autotoc_md1}{}\doxysection{\texorpdfstring{INDICE}{INDICE}}\label{md__r_e_a_d_m_e_autotoc_md1}

\begin{DoxyEnumerate}
\item Introduzione
\begin{DoxyItemize}
\item Descrizione del gioco
\item Come si gioca
\item Obiettivo del gioco
\begin{DoxyItemize}
\item Fasi del gioco
\end{DoxyItemize}
\item Mappa di gioco
\end{DoxyItemize}
\item Utilizzo
\begin{DoxyItemize}
\item Comandi principali
\end{DoxyItemize}
\item Diagrammi UML
\item Specifica algebrica
\begin{DoxyItemize}
\item Specifica sintattica
\item Specifica semantica
\item Specifica di restrizione
\end{DoxyItemize}
\item Contenuti rilevanti
\begin{DoxyItemize}
\item Utilizzo della Programmazione Orientata agli Oggetti (OOP)
\item Utilizzo dei file
\item Utilizzo dei database
\item Utilizzo dei thread
\item Swing
\item RESTful
\item Lambda expressions
\end{DoxyItemize}
\item Doxygen
\end{DoxyEnumerate}

~\newline
~\newline
\hypertarget{md__r_e_a_d_m_e_autotoc_md2}{}\doxysection{\texorpdfstring{Introduzione}{Introduzione}}\label{md__r_e_a_d_m_e_autotoc_md2}
{\bfseries{SPACE ESCAPE}} è un\textquotesingle{}avventura testuale interattiva progettata per l\textquotesingle{}esame di \textquotesingle{}Metodi avanzati di programmazione\textquotesingle{}, sviluppata interamente in linguaggio java. Il gioco si svolge attraverso un\textquotesingle{}interfaccia grafica ({\bfseries{GUI}}), che consente agli utenti interagire con essa e immergersi nell\textquotesingle{}avventura di una navicella spaziale intrappolata nello spazio. Inoltre il programma supporta il salvataggio e il caricamento di una partita, oltre ad una classifica globale gestita tramite server.\hypertarget{md__r_e_a_d_m_e_autotoc_md3}{}\doxysubsection{\texorpdfstring{Descrizione del gioco}{Descrizione del gioco}}\label{md__r_e_a_d_m_e_autotoc_md3}
L\textquotesingle{}obiettivo del gioco è scappare dalla navicella spaziale per tornare sani e salvi sulla Terra. Per raggiungere questo obiettivo, i giocatori devono esplorare la mappa di gioco, raccogliere oggetti e codici, e risolvere enigmi. Il gioco inizia con una schermata introduttiva che spiega il contesto e le prime istruzioni per iniziare.\hypertarget{md__r_e_a_d_m_e_autotoc_md4}{}\doxysubsection{\texorpdfstring{Come si gioca}{Come si gioca}}\label{md__r_e_a_d_m_e_autotoc_md4}
Per muoversi all\textquotesingle{}interno della mappa, il giocatore deve utilizzare i comandi direzionali nord, sud, est e ovest. È possibile esplorare le stanze e i corridoi usando il comando osserva, che fornisce una descrizione dettagliata dell\textquotesingle{}ambiente circostante. Inoltre, il giocatore può interagire con oggetti e porte tramite comandi come utilizza, prendi, apri, e altri.\hypertarget{md__r_e_a_d_m_e_autotoc_md5}{}\doxysubsection{\texorpdfstring{Obiettivo del gioco}{Obiettivo del gioco}}\label{md__r_e_a_d_m_e_autotoc_md5}
L\textquotesingle{}obiettivo finale del gioco è attivare un portale che permetterà al giocatore di tornare a casa. Per raggiungere questo obiettivo, il giocatore dovrà seguire una serie di passi chiave che richiedono l\textquotesingle{}esplorazione della mappa e l\textquotesingle{}interazione con vari oggetti e personaggi.\hypertarget{md__r_e_a_d_m_e_autotoc_md6}{}\doxysubsection{\texorpdfstring{Fasi del gioco}{Fasi del gioco}}\label{md__r_e_a_d_m_e_autotoc_md6}
Raggiungere la Sala Comandi ~\newline
 Descrizione\+: La Sala Comandi è una stanza fondamentale dove il giocatore troverà una cassa chiusa.~\newline
 Azione\+: Usare il comando apri per aprire la cassa.~\newline
 Oggetto\+: All\textquotesingle{}interno della cassa si trova una gemma. Il giocatore deve usare il comando prendi per raccogliere la gemma. Scopo\+: La gemma è necessaria per l\textquotesingle{}attivazione del portale.~\newline
 Dirigersi verso l\textquotesingle{}Armeria~\newline


Descrizione\+: L\textquotesingle{}Armeria contiene varie armi che il giocatore può utilizzare.~\newline
 Azione\+: Usare il comando prendi per raccogliere un\textquotesingle{}arma.~\newline
 Oggetto\+: L\textquotesingle{}arma sarà indispensabile per sconfiggere il mostro alieno che si trova nell\textquotesingle{}anticamera.~\newline
 Affrontare il Mostro Alieno nell\textquotesingle{}Anticamera ~\newline
 Descrizione\+: L\textquotesingle{}anticamera ospita un mostro alieno che deve essere sconfitto. Azione\+: Usare il comando utilizza seguito dal nome dell\textquotesingle{}arma e per attaccare usare il comando ammazza per uccidere il mostro.~\newline
 Oggetto\+: Dopo aver sconfitto il mostro, il giocatore noterà un tatuaggio sul corpo dell\textquotesingle{}alieno. Il tatuaggio contiene un codice essenziale per l\textquotesingle{}attivazione del portale. Usare il comando osserva per leggere e annotare il codice.~\newline
 Ottenere la Mappa delle Coordinate Spaziali~\newline


Descrizione\+: La mappa delle coordinate spaziali si trova nell\textquotesingle{}archivio.~\newline
 Azione\+: Usare il comando prendi per raccogliere la mappa.~\newline
 Oggetto\+: La mappa contiene le coordinate di tutti i pianeti della galassia, compresa la Terra. Queste coordinate saranno necessarie per tornare a casa. Attivare il Portale~\newline


Descrizione\+: Tornare alla stanza del portale con tutti gli oggetti e le informazioni raccolte.~\newline
 Azione\+:~\newline
 Usare il comando attiva portale per iniziare la procedura.~\newline
 Usare il comando attiva pannello per accendere il pannello di controllo del portale.~\newline
 Inserire il codice del mostro alieno alla seconda riga del pannello.~\newline
 Inserire le coordinate della Terra alla seconda riga del pannello.~\newline
 Fine del gioco\+: Se tutte le operazioni sono state eseguite correttamente, il portale si attiverà e il giocatore potrà tornare a casa, completando così il gioco.~\newline
 Seguendo attentamente questi passaggi e utilizzando correttamente i comandi, il giocatore riuscirà a superare le sfide e a raggiungere l\textquotesingle{}obiettivo finale del gioco.\hypertarget{md__r_e_a_d_m_e_autotoc_md7}{}\doxysubsection{\texorpdfstring{Mappa di gioco}{Mappa di gioco}}\label{md__r_e_a_d_m_e_autotoc_md7}
 ~\newline
 La mappa di gioco mostra tutte le stanze e i corridoi esplorabili. Le freccette nere indicano i possibili movimenti tra le diverse aree. Gli oggetti e gli ostacoli rappresentati nella mappa sono quelli che i giocatori incontreranno durante l\textquotesingle{}avventura. ~\newline
~\newline
\hypertarget{md__r_e_a_d_m_e_autotoc_md8}{}\doxysection{\texorpdfstring{Utilizzo}{Utilizzo}}\label{md__r_e_a_d_m_e_autotoc_md8}
In {\bfseries{SPACE ESCAPE}}, il giocatore assume il ruolo di un astronauta intrappolato su una navicella spaziale alla deriva nello spazio. L\textquotesingle{}obiettivo è esplorare l\textquotesingle{}ambiente, risolvere enigmi e raccogliere oggetti necessari per attivare la navicella e tornare sulla Terra.\hypertarget{md__r_e_a_d_m_e_autotoc_md9}{}\doxysubsection{\texorpdfstring{Comandi Principali}{Comandi Principali}}\label{md__r_e_a_d_m_e_autotoc_md9}
Per interagire con il gioco, utilizza i seguenti comandi\+: ~\newline
 nord\+: Spostati a nord.~\newline
 sud\+: Spostati a sud.~\newline
 est\+: Spostati a est.~\newline
 ovest\+: Spostati a ovest.~\newline
 osserva\+: Osserva la stanza attuale per una descrizione dettagliata.~\newline
 prendi \+: Prendi un oggetto.~\newline
 usa \+: Usa un oggetto nell\textquotesingle{}inventario.~\newline
 apri \+: Apri una un oggetto, se possibile.~\newline
 ammazza \+: Ammazza qualsiasi mostro/alieno esistente.~\newline
 inventario \+: Stampa tutti gli oggetti che il giocatore ha raccolto durante la partita.~\newline
 abbandona\+: Termina il gioco.~\newline
 attiva\+: Attiva i vari pannelli e portali.~\newline
 leggi\+: Legge le varie mappe/cartine.~\newline
 Man mano che esplori la navicella, troverai vari oggetti che potrebbero essere utili per risolvere enigmi e superare ostacoli. Usa i comandi sopra elencati per interagire con l\textquotesingle{}ambiente e avanzare nel gioco. ~\newline
~\newline
\hypertarget{md__r_e_a_d_m_e_autotoc_md10}{}\doxysection{\texorpdfstring{Specifica algebrica}{Specifica algebrica}}\label{md__r_e_a_d_m_e_autotoc_md10}
Questa specifica algebrica definisce il comportamento di un dizionario, una struttura dati che associa chiavi uniche a valori. Il dizionario è rappresentato tramite diverse operazioni che permettono di creare, modificare e interrogare la struttura. \hypertarget{md__r_e_a_d_m_e_autotoc_md11}{}\doxysubsection{\texorpdfstring{Specifica sintattica}{Specifica sintattica}}\label{md__r_e_a_d_m_e_autotoc_md11}
La specifica sintattica descrive i tipi di dati (sorts) e le operazioni disponibili per il dizionario\+:~\newline
~\newline


Sorts\+:Dizionario, chiave, valore, Boolean.~\newline
 Operations\+:~\newline

\begin{DoxyItemize}
\item new\+Dizionario\+: () -\/\texorpdfstring{$>$}{>} Dizionario
\item put\+: Dizionario, chiave, valore -\/\texorpdfstring{$>$}{>} Dizionario
\item get\+: Dizionario, chiave -\/\texorpdfstring{$>$}{>} valore
\item remove\+: Dizionario, chiave -\/\texorpdfstring{$>$}{>} Dizionario
\item is\+Empty\+: Dizionario -\/\texorpdfstring{$>$}{>} Boolean
\item contains\+Key\+: Dizionario, chiave -\/\texorpdfstring{$>$}{>} Boolean
\item contains\+Value\+: Dizionario, valore -\/\texorpdfstring{$>$}{>} Boolean
\item size\+: Dizionario -\/\texorpdfstring{$>$}{>} Integer
\item key\+Set\+: Dizionario -\/\texorpdfstring{$>$}{>} List$<$chiave$>$
\item values\+: Dizionario -\/\texorpdfstring{$>$}{>} List$<$valore$>$
\item clear\+: Dizionario -\/\texorpdfstring{$>$}{>} Dizionario
\end{DoxyItemize}\hypertarget{md__r_e_a_d_m_e_autotoc_md12}{}\doxysubsection{\texorpdfstring{Specifica semantica}{Specifica semantica}}\label{md__r_e_a_d_m_e_autotoc_md12}
La specifica semantica definisce formalmente il comportamento atteso delle operazioni.~\newline
~\newline


Declase\+:d\+:dizionario, k\+:chiave, v\+:valore.~\newline

\begin{DoxyItemize}
\item is\+Empty(new\+Dizionario()) = true
\item is\+Empty(put(d, k, v)) = false
\item get(put(d, k, v), k) = v
\item get(d, k) = undefined se contains\+Key(d, k) = false
\item remove(d, k) = d se contains\+Key(d, k) = false
\item contains\+Key(remove(d, k), k) = false
\item contains\+Key(put(d, k, v), k) = true
\item contains\+Value(d, v) = (∃k \texorpdfstring{$\vert$}{|} get(d, k) = v)
\item size(new\+Dizionario()) = 0
\item size(put(d, k, v)) = size(d) + 1 se contains\+Key(d, k) = false
\item size(put(d, k, v)) = size(d) se contains\+Key(d, k) = true
\item size(remove(d, k)) = size(d) -\/ 1 se contains\+Key(d, k) = true
\item size(remove(d, k)) = size(d) se contains\+Key(d, k) = false
\item key\+Set(d) = \{ k \texorpdfstring{$\vert$}{|} contains\+Key(d, k) \}
\item values(d) = \mbox{[} get(d, k) \texorpdfstring{$\vert$}{|} k ∈ key\+Set(d) \mbox{]}
\item is\+Empty(clear(d)) = true
\end{DoxyItemize}\hypertarget{md__r_e_a_d_m_e_autotoc_md13}{}\doxysubsection{\texorpdfstring{Specifica di restrizione}{Specifica di restrizione}}\label{md__r_e_a_d_m_e_autotoc_md13}
La specifica di restrizione aggiunge vincoli che le operazioni devono rispettare per garantire la coerenza del dizionario.~\newline
~\newline


restrictions\+:~\newline
 ∀ d\+:Dizionario, k\+: chiave, v\+: valore.~\newline

\begin{DoxyItemize}
\item ∀k\textquotesingle{} \texorpdfstring{$\vert$}{|} (k\textquotesingle{} ≠ k implica get(put(d, k, v), k\textquotesingle{}) = get(d, k\textquotesingle{})) ~\newline

\item ∀k\textquotesingle{} \texorpdfstring{$\vert$}{|} (k\textquotesingle{} ≠ k implica get(remove(d, k), k\textquotesingle{}) = get(d, k\textquotesingle{}))
\item key\+Set(d).contains(k) = contains\+Key(d, k)
\item values(d).contains(v) = contains\+Value(d, v) ~\newline

\item ∀k . contains\+Key(clear(d), k) = false ~\newline
~\newline

\end{DoxyItemize}\hypertarget{md__r_e_a_d_m_e_autotoc_md14}{}\doxysection{\texorpdfstring{Contenuti rilevanti}{Contenuti rilevanti}}\label{md__r_e_a_d_m_e_autotoc_md14}
\hypertarget{md__r_e_a_d_m_e_autotoc_md15}{}\doxysubsection{\texorpdfstring{Utilizzo della Programmazione Orientata agli Oggetti (OOP)}{Utilizzo della Programmazione Orientata agli Oggetti (OOP)}}\label{md__r_e_a_d_m_e_autotoc_md15}
Nel nostro progetto, abbiamo adottato il paradigma della Programmazione Orientata agli Oggetti (OOP) per organizzare il codice in modo modulare, riutilizzabile e mantenibile.\hypertarget{md__r_e_a_d_m_e_autotoc_md16}{}\doxysubsubsection{\texorpdfstring{Principali Concetti OOP Utilizzati}{Principali Concetti OOP Utilizzati}}\label{md__r_e_a_d_m_e_autotoc_md16}

\begin{DoxyItemize}
\item {\bfseries{Classi e Oggetti\+:}}
\begin{DoxyItemize}
\item Le classi rappresentano i modelli dei vari elementi del gioco, come stanze, oggetti e giocatori. Gli oggetti sono istanze di queste classi, che contengono dati e metodi per manipolarli.
\end{DoxyItemize}
\item {\bfseries{Incapsulamento\+:}}
\begin{DoxyItemize}
\item I dati e i metodi delle classi sono incapsulati all\textquotesingle{}interno delle classi stesse, rendendoli accessibili solo tramite metodi pubblici (getter e setter) e mantenendo nascosti i dettagli di implementazione.
\end{DoxyItemize}
\item {\bfseries{Ereditarietà\+:}}
\begin{DoxyItemize}
\item L\textquotesingle{}ereditarietà consente di creare nuove classi basate su classi esistenti, promuovendo il riutilizzo del codice e la creazione di gerarchie di classi.
\end{DoxyItemize}
\item {\bfseries{Polimorfismo\+:}}
\begin{DoxyItemize}
\item Il polimorfismo permette di trattare oggetti di diverse classi attraverso un\textquotesingle{}interfaccia comune, facilitando l\textquotesingle{}uso intercambiabile di oggetti.
\end{DoxyItemize}
\end{DoxyItemize}\hypertarget{md__r_e_a_d_m_e_autotoc_md17}{}\doxysubsubsection{\texorpdfstring{Vantaggi dell\textquotesingle{}OOP nel Progetto}{Vantaggi dell\textquotesingle{}OOP nel Progetto}}\label{md__r_e_a_d_m_e_autotoc_md17}

\begin{DoxyItemize}
\item {\bfseries{Modularità\+:}} Ogni classe è responsabile di una specifica funzionalità, rendendo il codice più organizzato e facile da gestire.
\item {\bfseries{Riutilizzabilità\+:}} Le classi e i metodi possono essere riutilizzati in diverse parti del progetto senza duplicare il codice.
\item {\bfseries{Manutenibilità\+:}} L\textquotesingle{}uso di classi e metodi ben definiti facilita la comprensione e la modifica del codice.
\item {\bfseries{Flessibilità\+:}} L\textquotesingle{}ereditarietà e il polimorfismo permettono di estendere e modificare le funzionalità del sistema senza alterare il codice esistente.
\end{DoxyItemize}

L\textquotesingle{}adozione dell\textquotesingle{}OOP nel nostro progetto ha contribuito a creare un sistema robusto, flessibile e facilmente manutenibile.\hypertarget{md__r_e_a_d_m_e_autotoc_md18}{}\doxysubsection{\texorpdfstring{Utilizzo dei file}{Utilizzo dei file}}\label{md__r_e_a_d_m_e_autotoc_md18}
Abbiamo implementato un sistema di salvataggio e caricamento dei dati del gioco utilizzando file di testo per garantire che lo stato del gioco possa essere memorizzato e ripreso in modo efficiente. Il metodo save nella classe Save\+Game è responsabile della scrittura dello stato attuale del gioco in un file di salvataggio. Questo metodo accetta vari parametri come la stanza corrente ({\ttfamily current\+Room}), l\textquotesingle{}inventario del giocatore ({\ttfamily inventory}), il nome del gioco ({\ttfamily game\+Name}), il tempo trascorso ({\ttfamily elapsed\+Seconds}), lo stato del mostro ({\ttfamily monster\+Alive}) e lo stato della porta ({\ttfamily is\+Door\+Open}). Prima di procedere con il salvataggio, il metodo verifica se esiste già un salvataggio con lo stesso nome, evitando duplicati.~\newline
 I dati vengono scritti nel file in un formato leggibile, con ogni salvataggio separato da una linea delimitatrice {\ttfamily -\/-\/-\/}. Le informazioni includono dettagli specifici come Game\+Name, Elapsed\+Seconds, Current\+Room, Monster\+Alive, Door\+Open e l\textquotesingle{}elenco degli oggetti nell\textquotesingle{}inventario. Ogni campo viene scritto in una nuova riga per garantire la chiarezza e la facilità di parsing durante il caricamento.~\newline
 Per il caricamento, il metodo load legge il file di salvataggio e cerca il gioco con il nome specificato. Una volta trovato, estrae i dati salvati e li memorizza in una mappa (Map$<$\+String, Object$>$), che include tutte le informazioni necessarie per ripristinare lo stato del gioco. Queste informazioni vengono poi utilizzate per impostare lo stato del gioco, inclusa la stanza corrente, lo stato del mostro, lo stato della porta e l\textquotesingle{}inventario del giocatore. Quando si carica un salvataggio, il metodo load ripristina lo stato della porta e del mostro utilizzando i dati salvati. Questo assicura che il gioco riprenda dallo stesso punto in cui è stato lasciato, mantenendo la continuità dell\textquotesingle{}esperienza di gioco.~\newline
 In sintesi, il sistema di salvataggio e caricamento utilizza file di testo per memorizzare e ripristinare lo stato del gioco, garantendo che tutte le informazioni cruciali, come lo stato della stanza, l\textquotesingle{}inventario e lo stato degli oggetti, vengano conservate correttamente tra le sessioni di gioco. Questo approccio permette una gestione semplice ed efficace dello stato del gioco, migliorando l\textquotesingle{}esperienza del giocatore.\hypertarget{md__r_e_a_d_m_e_autotoc_md19}{}\doxysubsection{\texorpdfstring{Utilizzo dei database}{Utilizzo dei database}}\label{md__r_e_a_d_m_e_autotoc_md19}
Abbiamo deciso di utilizzare due database nel nostro programma\+: uno per il salvataggio delle informazioni delle stanze e degli oggetti, e uno per salvare le informazioni relative ai giocatori che riescono a concludere il gioco.\hypertarget{md__r_e_a_d_m_e_autotoc_md20}{}\doxysubsubsection{\texorpdfstring{Database delle Stanze e degli Oggetti}{Database delle Stanze e degli Oggetti}}\label{md__r_e_a_d_m_e_autotoc_md20}
La gestione del database per le stanze e gli oggetti è effettuata tramite la classe {\ttfamily Database} inserita nel package {\ttfamily di.\+uniba.\+map.\+b.\+adventure.\+impl} del progetto {\ttfamily adventure}.
\begin{DoxyItemize}
\item {\bfseries{Connessione al Database\+:}} La connessione al database avviene all\textquotesingle{}interno del costruttore della classe utilizzando JDBC e il motore di database H2.
\item {\bfseries{Metodi di Accesso e Modifica\+:}}
\begin{DoxyItemize}
\item {\ttfamily get\+Name\+By\+Id(\+String id)}\+: Restituisce il nome associato a un dato ID.
\item {\ttfamily get\+Description\+By\+Id(\+String id)}\+: Restituisce la descrizione associata a un dato ID.
\item {\ttfamily get\+Room\+Look\+By\+Id(\+String id)}\+: Restituisce la descrizione dettagliata (look) associata a un dato ID.
\item {\ttfamily update\+Name\+By\+Id(\+String id, String new\+Name)}\+: Aggiorna il nome associato a un dato ID.
\item {\ttfamily update\+Description\+By\+Id(\+String id, String new\+Description)}\+: Aggiorna la descrizione associata a un dato ID.
\item {\ttfamily update\+Room\+Look\+By\+Id(\+String id, String new\+Room\+Look)}\+: Aggiorna la descrizione dettagliata (look) associata a un dato ID.
\item {\ttfamily insert\+New\+Data()}\+: Inserisce nuovi dati nel database chiedendo all\textquotesingle{}utente di fornire input tramite riga di comando.
\item {\ttfamily close()}\+: Chiude la connessione al database per liberare risorse.
\end{DoxyItemize}
\end{DoxyItemize}\hypertarget{md__r_e_a_d_m_e_autotoc_md21}{}\doxysubsubsection{\texorpdfstring{Database dei Giocatori}{Database dei Giocatori}}\label{md__r_e_a_d_m_e_autotoc_md21}
La gestione del database per i giocatori che concludono il gioco è effettuata con la classe {\ttfamily Database} inserita nel package {\ttfamily com.\+mycompany.\+restserver} all\textquotesingle{}interno del progetto {\ttfamily Restserver}.


\begin{DoxyItemize}
\item {\bfseries{Connessione al Database\+:}} Anche in questo caso, la connessione viene effettuata all\textquotesingle{}interno del costruttore utilizzando JDBC e il motore di database H2.
\item {\bfseries{Metodi di Accesso e Modifica\+:}}
\begin{DoxyItemize}
\item {\ttfamily insert\+In\+Leaderboard(\+String name, String date, String time)}\+: Inserisce le informazioni di un giocatore nella classifica.
\item {\ttfamily get\+From\+Leaderboard(\+String id)}\+: Restituisce le informazioni di un giocatore ricevendo in input l\textquotesingle{}ID.
\item {\ttfamily get\+Top\+Players(int max\+Players)}\+: Restituisce i migliori giocatori in base al numero di giocatori specificato.
\item {\ttfamily close()}\+: Chiude la connessione al database per liberare risorse.
\end{DoxyItemize}
\end{DoxyItemize}\hypertarget{md__r_e_a_d_m_e_autotoc_md22}{}\doxysubsubsection{\texorpdfstring{Motore di Database H2}{Motore di Database H2}}\label{md__r_e_a_d_m_e_autotoc_md22}
In entrambi i casi abbiamo utilizzato il gestore di database relazionale H2 poiché può essere utilizzato in modo embedded senza necessità di installare un server, facilitando così la gestione e l\textquotesingle{}implementazione.\hypertarget{md__r_e_a_d_m_e_autotoc_md23}{}\doxysubsection{\texorpdfstring{Utilizzo dei thread}{Utilizzo dei thread}}\label{md__r_e_a_d_m_e_autotoc_md23}
La classe {\ttfamily Ae\+Play\+Wave} è progettata per riprodurre file audio WAV in un thread separato, permettendo così operazioni asincrone come la riproduzione, l\textquotesingle{}interruzione e la gestione del pan audio (sinistra, destra, normale). Questa classe fa parte del package {\ttfamily di.\+uniba.\+map.\+b.\+adventure.\+impl} e gestisce la riproduzione del suono utilizzando la libreria javax.\+sound.\+sampled.~\newline
 Nella classe sono stati inseriti diversi metodi così da gestire al meglio il thread\+:
\begin{DoxyItemize}
\item {\bfseries{stop\+Sound()}}\+: Metodo che imposta il flag {\ttfamily is\+Interrupted} a true e interrompe il thread corrente chiamando {\ttfamily interrupt()}. Questo metodo permette di fermare la riproduzione del suono in qualsiasi momento.
\item {\bfseries{start\+Sound()}}\+: Metodo che avvia o riprende la riproduzione del suono. Se il suono non è attualmente in riproduzione ({\ttfamily !is\+Playing}), reimposta {\ttfamily is\+Interrupted} a false e avvia il thread chiamando {\ttfamily start()}, il quale a sua volta esegue il metodo {\ttfamily run()}.
\item {\bfseries{run()}}\+: Metodo che sovrascrive il metodo run della classe Thread e contiene la logica per la riproduzione del file audio. La riproduzione continua finché {\ttfamily is\+Interrupted} è false. All\textquotesingle{}interno del metodo, viene aperto il file audio e letto in un buffer che viene poi scritto su un {\ttfamily Source\+Data\+Line} per la riproduzione. Se il controllo del pan è supportato, viene regolato in base alla posizione corrente (sinistra, destra, normale).
\end{DoxyItemize}

I thread vengono utilizzati per eseguire la riproduzione del suono in parallelo rispetto al thread principale dell\textquotesingle{}applicazione. Questo permette all\textquotesingle{}utente di eseguire altre operazioni mentre l\textquotesingle{}audio è in riproduzione, senza bloccare l\textquotesingle{}interfaccia utente o altre funzionalità dell\textquotesingle{}applicazione.~\newline
 Quando si chiama {\ttfamily start\+Sound()}, il thread viene avviato utilizzando il metodo {\ttfamily start()}, che a sua volta invoca il metodo {\ttfamily run()} del thread. Questo metodo contiene il loop principale di riproduzione del suono. Durante la riproduzione, il thread legge i dati dal file audio e li scrive nel buffer del Source\+Data\+Line per la riproduzione.~\newline
 Quando si chiama {\ttfamily stop\+Sound()}, il flag {\ttfamily is\+Interrupted} viene impostato a true e il thread corrente viene interrotto utilizzando interrupt(){\ttfamily . Questo provoca l\textquotesingle{}uscita dal loop principale nel metodo}run()\`{} e consente la pulizia delle risorse, come la chiusura del Source\+Data\+Line e dell\textquotesingle{}Audio\+Input\+Stream.~\newline
~\newline
 Vantaggi dell\textquotesingle{}uso dei Thread\+:
\begin{DoxyItemize}
\item {\bfseries{Asincronia}}\+: La riproduzione del suono avviene in modo asincrono, permettendo all\textquotesingle{}applicazione principale di continuare a funzionare senza blocchi.
\item {\bfseries{Reattività}}\+: L\textquotesingle{}interfaccia utente rimane reattiva, poiché la riproduzione audio non blocca il thread principale.
\item {\bfseries{Controllo}}\+: È possibile interrompere la riproduzione del suono in qualsiasi momento senza dover aspettare che il file audio termini. La classe Ae\+Play\+Wave dimostra come i thread possono essere utilizzati per eseguire operazioni che richiedono tempo, come la riproduzione di file audio, in modo efficiente e senza compromettere l\textquotesingle{}esperienza dell\textquotesingle{}utente..
\end{DoxyItemize}\hypertarget{md__r_e_a_d_m_e_autotoc_md24}{}\doxysubsection{\texorpdfstring{Swing}{Swing}}\label{md__r_e_a_d_m_e_autotoc_md24}
Nel progetto abbiamo utilizzato la libreria grafica Swing per garantire al giocatore un\textquotesingle{}esperienza più immersiva.~\newline
 Lo sfondo del gioco varia a seconda di cosa si sta facendo, di fatti si parte con un\textquotesingle{}immagine nella schermata iniziale, quella in cui si introduce il gioco, poi una volta iniziato a giocare l\textquotesingle{}immagine di sfondo varia a seconda della stanza in cui ci si trova. Le immagini sono state create da vari software generativi.~\newline
 Nella finestra che viene creata oltre alle immagini di sfondo sono stati aggiunti vari componenti di interfaccia frafica\+:
\begin{DoxyItemize}
\item {\bfseries{Caselle di testo}} per prendere in input i comandi del giocatore.
\item {\bfseries{Arree di testo}} per far visualizzare\+:
\begin{DoxyItemize}
\item I nomi delle stanze
\item La descrizione delle stanze
\item I Messaggi del gioco
\item La classifica
\item Il tempo di gioco
\end{DoxyItemize}
\item {\bfseries{Tasti}} per permettere al giocatore di svolgere diverse operazioni\+:
\begin{DoxyItemize}
\item Iniziare una nuova partita
\item Caricare una partita salvata
\item Visualizzare la classifica
\item Nascondere la clasifica
\item Mettere in pausa il gioco
\item Uscire dal gioco senza salvare la partita
\item Uscire dal gioco salvando la partita
\end{DoxyItemize}
\end{DoxyItemize}\hypertarget{md__r_e_a_d_m_e_autotoc_md25}{}\doxysubsection{\texorpdfstring{RESTful}{RESTful}}\label{md__r_e_a_d_m_e_autotoc_md25}
Questo progetto utilizza un\textquotesingle{}architettura RESTful per gestire una classifica di un gioco, composta da un client REST, un server REST e un servizio RESTful. Questi componenti lavorano insieme per consentire l\textquotesingle{}aggiunta di dati dei giocatori alla classifica e il recupero delle posizioni attuali della classifica. \hypertarget{md__r_e_a_d_m_e_autotoc_md26}{}\doxysubsubsection{\texorpdfstring{RESTClient}{RESTClient}}\label{md__r_e_a_d_m_e_autotoc_md26}
La classe {\ttfamily RESTClient} è progettata per interagire con il servizio RESTful. Utilizza l\textquotesingle{}API JAX-\/\+RS per inviare richieste HTTP al server e la libreria Gson per la serializzazione e deserializzazione dei dati JSON. Il costruttore della classe inizializza il client REST, imposta l\textquotesingle{}URL di destinazione del servizio e il parser JSON. La classe {\ttfamily RESTClient} ha due metodi principali\+:
\begin{DoxyItemize}
\item {\bfseries{add\+Player(\+Player\+Data player)}}\+: Questo metodo invia una richiesta PUT al server per aggiungere i dati di un nuovo giocatore alla classifica. I dati del giocatore vengono convertiti in formato JSON e inviati al server. La risposta del server viene quindi stampata sulla console per la verifica.
\item {\bfseries{get\+Leaderboard()}}\+: Questo metodo invia una richiesta GET al server per ottenere la classifica attuale. La risposta JSON viene deserializzata in una lista di oggetti, che vengono poi formattati in una stringa leggibile che rappresenta la classifica e restituita. 
\end{DoxyItemize}\hypertarget{md__r_e_a_d_m_e_autotoc_md27}{}\doxysubsubsection{\texorpdfstring{RESTServer}{RESTServer}}\label{md__r_e_a_d_m_e_autotoc_md27}
La classe {\ttfamily RESTServer} avvia il server HTTP utilizzando la libreria Grizzly. Configura il server per ascoltare le richieste sulla porta 4321 e mappa le richieste al servizio {\ttfamily Leaderboard\+Service}. Il metodo {\ttfamily start\+Server()} configura e avvia il server, aggiungendo anche un hook di spegnimento per garantire che il server si chiuda correttamente quando l\textquotesingle{}applicazione termina. Il server viene avviato nel metodo {\ttfamily main}, che è il punto di ingresso dell\textquotesingle{}applicazione. \hypertarget{md__r_e_a_d_m_e_autotoc_md28}{}\doxysubsubsection{\texorpdfstring{Leaderboard\+Service}{Leaderboard\+Service}}\label{md__r_e_a_d_m_e_autotoc_md28}
La classe {\ttfamily Leaderboard\+Service} è il cuore del servizio RESTful che gestisce le richieste relative alla classifica. Utilizza le annotazioni JAX-\/\+RS per mappare le richieste HTTP ai metodi Java e interagisce con un database per recuperare e inserire i dati dei giocatori. Questa classe contiene due metodi principali\+:
\begin{DoxyItemize}
\item {\bfseries{get\+Leaderboard()}}\+: Questo metodo gestisce le richieste GET per recuperare le prime posizioni della classifica. Quando viene ricevuta una richiesta GET, il metodo interroga il database per ottenere i migliori giocatori, converte i dati in formato JSON e li restituisce al client come risposta. In caso di errore, restituisce un messaggio di errore adeguato.
\item {\bfseries{add\+Player(\+String json)}}\+: Questo metodo gestisce le richieste PUT per aggiungere un nuovo giocatore alla classifica. Riceve i dati del giocatore in formato JSON, li deserializza in un oggetto {\ttfamily Player\+Data} e inserisce i dati nel database. Se l\textquotesingle{}operazione ha successo, restituisce una risposta di conferma; altrimenti, restituisce un messaggio di errore.
\end{DoxyItemize}\hypertarget{md__r_e_a_d_m_e_autotoc_md29}{}\doxysubsubsection{\texorpdfstring{Interazione tra i Componenti}{Interazione tra i Componenti}}\label{md__r_e_a_d_m_e_autotoc_md29}

\begin{DoxyEnumerate}
\item {\bfseries{Aggiunta di un Giocatore}}\+: Il client ({\ttfamily RESTClient}) invia una richiesta PUT al server per aggiungere un nuovo giocatore alla classifica. La richiesta è gestita dal servizio ({\ttfamily Leaderboard\+Service}), che inserisce i dati nel database e restituisce una risposta al client.
\item {\bfseries{Recupero della Classifica}}\+: Il client invia una richiesta GET al server per ottenere la classifica attuale. Il servizio ({\ttfamily Leaderboard\+Service}) recupera i dati dal database, li converte in formato JSON e li restituisce al client, che li deserializza e formatta in una stringa leggibile. Questa architettura separa chiaramente le responsabilità tra client, server e logica di business, facilitando la manutenzione e l\textquotesingle{}estensione dell\textquotesingle{}applicazione. Il client REST è responsabile dell\textquotesingle{}invio delle richieste e della gestione delle risposte, il server REST gestisce le connessioni HTTP e il servizio RESTful contiene la logica di business per l\textquotesingle{}elaborazione delle richieste relative alla classifica.
\end{DoxyEnumerate}

~\newline
~\newline
 \hypertarget{md__r_e_a_d_m_e_autotoc_md30}{}\doxysection{\texorpdfstring{Doxygen}{Doxygen}}\label{md__r_e_a_d_m_e_autotoc_md30}
Per visualizzare la documentazione doxygen aprire il collegamento {\ttfamily index} inserito nella cartella {\ttfamily progetto-\/map}. 